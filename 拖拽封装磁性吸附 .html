<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style>
		#myDiv{
			width: 50px;
			height: 50px;
			background: #5d7a03;
			position: absolute;
		}
		#img1{
			width: 50px;
			height: 50px;
			position: absolute;
		}
	</style>
	<body>
		<div id="myDiv"></div>
		<img src="img/fish.png" id="img1"/>
	</body>
	<script>
			var oDiv = document.getElementById('myDiv');
			//获取div的left 和top
			var oImg = document.getElementById('img1');
			drag(oImg);
			drag(oDiv);
			function drag(obj){
				obj.onmousedown = function(ev){
					var divLeft = this.offsetLeft;
					var divTop = this.offsetTop;
					var ev = ev || event;
					//获取鼠标坐标
					var x = ev.clientX;
					var y = ev.clientY;
					var offX = x - divLeft;
					var offY = y-divTop;
					document.onmousemove = function(ev){
						var ev = ev || event;
						var newLeft = ev.clientX - offX;
						var newTop = ev.clientY - offY;
						if(newLeft <100){
							
							newLeft =0;
						}else if(newLeft >document.documentElement.clientWidth - obj.offsetWidth){
							newLeft=document.documentElement.clientWidth - obj.offsetWidth;
						}
						obj.style.left = newLeft +"px";
						
						obj.style.top= newTop +"px";
					}
					//松开鼠标无反应
					document.onmouseup = function(){
						document.onmousemove = document.onmouseup =null;
					}
					return false;
				}
			
			}
					
			
			
		
		
	</script>
</html>
